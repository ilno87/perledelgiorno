<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Perla del Giorno</title>
  <style>
    html, body { height: 100%; margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; }
    .wrap { min-height: 100%; display: grid; place-items: center; padding: 24px; background: #0b1020; color: #f5f7ff; }
    .card { max-width: 780px; width: 100%; background: #141a32; padding: 28px; border-radius: 18px; box-shadow: 0 10px 30px rgba(0,0,0,.35); }
    h1 { margin: 0 0 8px; font-size: 1.6rem; font-weight: 700; }
    p#phrase { font-size: 1.6rem; line-height: 1.5; margin: 12px 0 0; white-space: pre-wrap; }
    .meta { opacity: .7; font-size: .9rem; margin-top: 14px; }
    .footer { margin-top: 22px; display: flex; gap: 8px; flex-wrap: wrap; }
    button, .chip { background: #1f2647; color: #dfe5ff; border: 1px solid #2b3363; padding: 8px 12px; border-radius: 12px; cursor: pointer; font-size: .95rem; }
    button:hover { filter: brightness(1.08); }
    .chip { cursor: default; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Perla del giorno ðŸ’Ž</h1>
      <p id="phrase">Caricamentoâ€¦</p>
      <div class="footer">
        <span class="chip" id="indexChip"></span>
        <button id="copy">Copia</button>
      </div>
    </div>
  </div>

  <script>
  // === ELENCO FRASE ===
  const PHRASES = [
    'Il server Ã¨ lento perchÃ© Ã¨ pieno.',
    'Spegnilo e riaccendilo, fidati.',
    'Funzionava ieri, giuro.',
    'Ãˆ colpa della VPN.',
    'Prova a svuotare la cache del monitor.',
    'Se lo facciamo in produzione va meglio.',
    'Ho i permessi di admin? Chiedo a me stesso.',
    'Non Ã¨ un bug, Ã¨ una feature emergente.'
  ];

  // Ogni refresh â†’ frase casuale
  function phraseRandom(list){
    if(!list.length) return { index: 0, total: 0, text: 'â€” (nessuna frase) â€”' };
    const idx = Math.floor(Math.random() * list.length);
    return { index: idx, total: list.length, text: list[idx] };
  }

  const elPhrase = document.getElementById('phrase');
  const elIndex = document.getElementById('indexChip');
  const btnCopy = document.getElementById('copy');

  function render(){
    const f = phraseRandom(PHRASES);
    elPhrase.textContent = f.text;
    elIndex.textContent = `Frase ${f.index+1} di ${f.total}`;
  }

  btnCopy.addEventListener('click', async ()=>{
    try {
      await navigator.clipboard.writeText(elPhrase.textContent);
      btnCopy.textContent='Copiato!';
      setTimeout(()=>btnCopy.textContent='Copia', 1200);
    } catch(e){
      alert('Impossibile copiare: '+e);
    }
  });

  render();
  </script>
</body>
</html>
